<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>MySQL 主主 / 主从复制管理</title>
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<header>
  <div class="header-inner">
    <div>
      <h1>MySQL 主主 / 主从复制管理</h1>
      <nav>
        <a href="/nodes" class="{% if page == 'nodes' %}active{% endif %}">数据库节点</a>
        <a href="/replication/mm" class="{% if page == 'mm' %}active{% endif %}">主主复制</a>
        <a href="/replication/ms" class="{% if page == 'ms' %}active{% endif %}">主从复制</a>
      </nav>
    </div>

    <div class="user-info">
      {% if request.session.get('logged_in') %}
        <span>已登录：{{ request.app.state.app_username }}</span>
        <span class="divider">|</span>
        <a href="/logout">退出</a>
      {% else %}
        <a href="/login" class="{% if page == 'login' %}active{% endif %}">登录</a>
      {% endif %}
    </div>
  </div>
</header>

<main>
  {% block content %}{% endblock %}
</main>

<footer>
  <small>
    实际复制逻辑由 <code>scripts/mysql_replication.sh</code> 完成；
    所有数据库连接信息持久化到 <code>/app/data/nodes.json</code>（建议挂载到宿主机）。
  </small>
</footer>
</body>
</html>
